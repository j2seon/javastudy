package oopstudy;

public class BankAccount {
	private int balance; //금액
	private Person owner; // 소유주
	public int getBalance() {
		return balance;
	}
	public void setBalance(int balance) {
		this.balance = balance;
	}
	public Person getOwner() {
		return owner;
	}
	public void setOwner(Person owner) {
		this.owner = owner;
	}

	
	//은행계좌에서 필요한건? 입금 출금 이체!
	
	//입금: 입금될 액수 성공여부를 리턴
	boolean deposit(int amount) {
		if(amount<0 || owner.getCashAmount()<amount) {
			System.out.println("입금실패입니다. 잔고: "+balance+"원, 현금: "+owner.getCashAmount()+"원");
			System.out.println(false);
			return false;
		}else {
			balance+=amount;
			owner.setCashAmount(owner.getCashAmount()- amount);
			System.out.println(amount+"원 입금하였습니다. 잔고: "+balance+"원, 현금: "+owner.getCashAmount()+"원");
			System.out.println(true);
			return true;
		}
	}
	//출금 : 출금될 액수 성공여부를 리턴
	boolean withdraw(int amount) {
		if(amount<0 || balance<amount) {
			System.out.println("출금 실패입니다. 잔고: "+balance+"원, 현금: "+owner.getCashAmount()+"원");
			System.out.println(false);
			return false;
		}else {
			balance-=amount;
			owner.setCashAmount(owner.getCashAmount()+amount);
			System.out.println(amount+"원 출금하였습니다. 잔고: "+balance+"원, 현금: "+owner.getCashAmount()+"원");
			System.out.println(true);
			return true;
		}
		
	}
	//이체!! 이체를 받을 다른사람, 이체할 액수가 필요 /성공여부리턴
	boolean transfer(Person person, int amount) {
		if(amount<0 ||amount>this.balance) {
			System.out.println("false - from: ["+owner.getName()+", to: ["+person.getName()+"], amount: ["+amount+"], balance: ["+this.balance);
			return false;
		}else {
		person.getAccount().setBalance(person.getAccount().getBalance()+amount);
		owner.getAccount().setBalance(owner.getAccount().getBalance()-amount);
		System.out.println("true - from: ["+this.owner.getName()+", to: ["+person.getName()+"], amount: ["+amount+"], balance: ["+owner.getAccount().getBalance());
		return true;
		}
	}
		//이체를 받은 경우 
	boolean transfer(BankAccount to, int amount) {
		to.balance+=amount;
		System.out.println("true - from: ["+to.getOwner().getName()+", to: ["+owner.getName()+"], amount: ["+amount+"], balance: ["+owner.getAccount().balance);
		return true;
	}
}
